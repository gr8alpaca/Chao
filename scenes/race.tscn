[gd_scene load_steps=11 format=3 uid="uid://ctwx4qfewxk1w"]

[ext_resource type="Script" path="res://scenes/race.gd" id="1_ccd51"]
[ext_resource type="Material" uid="uid://bi4su0loiqr6w" path="res://resources/wood_material.tres" id="1_smxir"]
[ext_resource type="PackedScene" uid="uid://cp1lbtskoh1sx" path="res://scenes/pet.tscn" id="2_cbkiy"]
[ext_resource type="Script" path="res://scripts/stats.gd" id="3_wexte"]
[ext_resource type="Script" path="res://scripts/waypoint.gd" id="4_ieb84"]

[sub_resource type="BoxMesh" id="BoxMesh_c21fa"]
lightmap_size_hint = Vector2i(14, 16)
material = ExtResource("1_smxir")
add_uv2 = true
size = Vector3(1, 0.5, 1)
subdivide_width = 2
subdivide_height = 2
subdivide_depth = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_chj8x"]
size = Vector3(1, 0.5, 1)

[sub_resource type="MeshLibrary" id="MeshLibrary_0osby"]
item/0/name = "WoodBlock"
item/0/mesh = SubResource("BoxMesh_c21fa")
item/0/mesh_transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
item/0/shapes = [SubResource("BoxShape3D_chj8x"), Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)]
item/0/navigation_mesh_transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
item/0/navigation_layers = 1

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_5qkvd"]

[sub_resource type="Resource" id="Resource_n17vd"]
resource_local_to_scene = true
script = ExtResource("3_wexte")
name = &""
life = 100.0
stamina = 100.0
speed = 10.0
power = 10.0
finesse = 10.0

[node name="Race" type="Node3D" node_paths=PackedStringArray("waypoints")]
script = ExtResource("1_ccd51")
waypoints = NodePath("Waypoints")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
light_energy = 0.5
shadow_enabled = true
directional_shadow_mode = 0

[node name="Environment" type="Node3D" parent="."]

[node name="GridMap" type="GridMap" parent="Environment"]
mesh_library = SubResource("MeshLibrary_0osby")
physics_material = SubResource("PhysicsMaterial_5qkvd")
cell_size = Vector3(1, 0.5, 1)
cell_center_y = false
collision_mask = 0
data = {
"cells": PackedInt32Array(-2, 65535, 0, -2, 0, 0, -1, 0, 0, -65536, 0, 0, -65535, 0, 0, -1, 65535, 0, -1, 65534, 0, -65536, 65534, 0, -65536, 65535, 0, -65535, 65535, 0, -65534, 65535, 0, -65533, 65535, 0, -65532, 65535, 0, -65531, 65535, 0, -65530, 65535, 0, -65530, 0, 0, -65529, 0, 0, -65531, 0, 0, -65532, 0, 0, -65533, 0, 0, -65534, 0, 0, -65529, 65535, 0, -65528, 65535, 0, -65527, 65535, 0, -65527, 0, 0, -65528, 0, 0, -65532, 1, 0, -65531, 1, 0, -65530, 1, 0, -65533, 1, 0, -65534, 1, 0, -65529, 1, 0, -65528, 1, 0, -65535, 1, 0, -65533, 65534, 0, -65534, 65534, 0, -65535, 65534, 0, -65532, 65534, 0, -65531, 65534, 0, -65530, 65534, 0, -65529, 65534, 0, -65528, 65534, 0, -65527, 65534, 0, -65526, 65534, 0, -65527, 1, 0, -65526, 1, 0, -65525, 1, 0, -65524, 1, 0, -65523, 1, 0, -65523, 0, 0, -65523, 65535, 0, -65523, 65534, 0, -65525, 65534, 0, -65524, 0, 0, -65525, 0, 0, -65526, 65535, 0, -65525, 65535, 0, -65524, 65535, 0, -65526, 0, 0, -65524, 65534, 0, -65522, 1, 0, -65522, 0, 0, -65522, 65535, 0, -65522, 65534, 0, -65522, 65533, 0, -65522, 65532, 0, -65523, 65532, 0, -65523, 65533, 0, -65524, 65533, 0, -65523, 65531, 0, -65523, 65530, 0, -65524, 65530, 0, -65524, 65531, 0, -65524, 65532, 0, -65522, 65531, 0, -65525, 65533, 0, -65526, 65533, 0, -65526, 65532, 0, -65527, 65532, 0, -65525, 65532, 0, -65527, 65533, 0, -65525, 65531, 0, -65526, 65531, 0, -65528, 65533, 0, -65525, 65530, 0, -65524, 65529, 0, -65523, 65529, 0, -65522, 65530, 0, -65522, 65529, 0, -65524, 65528, 0, -65523, 65528, 0, -65522, 65528, 0, -65523, 65527, 0, -65524, 65527, 0, -65522, 65527, 0, -65523, 65526, 0, -65524, 65526, 0, -65522, 65526, 0, -65525, 65529, 0, -65525, 65528, 0, -65525, 65527, 0, -65525, 65526, 0, -2, 65534, 0, -2, 1, 0, -1, 1, 0, -65536, 1, 0, 65534, 65531, 0, 65534, 65532, 0, 65535, 65532, 0, 0, 65532, 0, 65535, 65531, 0, 0, 65531, 0, 1, 65531, 0, 1, 65532, 0, 2, 65531, 0, 3, 65531, 0, 3, 65532, 0, 4, 65532, 0, 2, 65532, 0, 5, 65532, 0, 6, 65532, 0, 7, 65532, 0, 6, 65531, 0, 5, 65531, 0, 7, 65531, 0, 8, 65531, 0, 4, 65531, 0, 8, 65532, 0, 9, 65532, 0, 10, 65532, 0, 10, 65531, 0, 9, 65531, 0, 10, 65530, 0, 10, 65529, 0, 9, 65529, 0, 9, 65528, 0, 9, 65530, 0, 9, 65527, 0, 10, 65528, 0, 10, 65527, 0, 10, 65526, 0, 9, 65526, 0, 9, 65525, 0, 10, 65525, 0, 12, 65524, 0, 11, 65524, 0, 13, 65524, 0, 14, 65524, 0, 15, 65524, 0, 15, 65525, 0, 15, 65526, 0, 15, 65527, 0, 15, 65528, 0, 15, 65531, 0, 15, 65530, 0, 15, 65529, 0, 15, 65532, 0, 15, 65533, 0, 15, 65534, 0, 15, 65535, 0, 15, 0, 0, 15, 1, 0, 14, 1, 0, 13, 2, 0, 10, 3, 0, 9, 3, 0, 7, 3, 0, 6, 3, 0, 65534, 2, 0, 65534, 3, 0, 65535, 3, 0, 0, 3, 0, 1, 3, 0, 2, 3, 0, 3, 3, 0, 4, 3, 0, 5, 3, 0, 8, 3, 0, 11, 3, 0, 12, 3, 0, 13, 3, 0, 14, 3, 0, 14, 2, 0, 15, 2, 0, 15, 3, 0, 14, 0, 0, 14, 65535, 0, 65533, 2, 0, 65533, 1, 0, 65533, 0, 0, 65533, 65535, 0, 65533, 65534, 0, 65533, 65533, 0, 65533, 65532, 0, 65533, 3, 0, 65533, 65531, 0, 65534, 65533, 0, 65534, 65534, 0, 65534, 1, 0, 65534, 0, 0, 65534, 65535, 0, -1, 2, 0, -65536, 2, 0, -65535, 2, 0, -65534, 2, 0, -65533, 2, 0, -65532, 2, 0, -65531, 2, 0, -65530, 2, 0, -65529, 2, 0, -65528, 2, 0, -65527, 2, 0, -65526, 2, 0, -65525, 2, 0, -65524, 2, 0, -65523, 2, 0, -65529, 65533, 0, -65530, 65533, 0, -65531, 65533, 0, -65532, 65533, 0, -65533, 65533, 0, -65534, 65533, 0, -65535, 65533, 0, -65536, 65533, 0, -1, 65533, 0, -65522, 65525, 0, -65523, 65525, 0, -65524, 65525, 0, -65525, 65525, 0, 10, 65524, 0, 9, 65524, 0)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Waypoints" type="Node3D" parent="."]

[node name="Waypoint1" type="Area3D" parent="Waypoints" node_paths=PackedStringArray("next")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 0)
monitorable = false
script = ExtResource("4_ieb84")
next = NodePath("../Waypoint2")
dimensions = Vector3(0.1, 0.5, 2)

[node name="Waypoint2" type="Area3D" parent="Waypoints" node_paths=PackedStringArray("next")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, 0)
monitorable = false
script = ExtResource("4_ieb84")
next = NodePath("../Waypoint3")
dimensions = Vector3(0.1, 0.5, 2)

[node name="Waypoint3" type="Area3D" parent="Waypoints" node_paths=PackedStringArray("next")]
transform = Transform3D(0.819152, 0, 0.573576, 0, 1, 0, -0.573576, 0, 0.819152, 10.4, 0, -0.5)
monitorable = false
script = ExtResource("4_ieb84")
next = NodePath("../Waypoint4")
dimensions = Vector3(0.1, 0.5, 2)

[node name="Waypoint4" type="Area3D" parent="Waypoints" node_paths=PackedStringArray("next")]
transform = Transform3D(0.573576, 0, 0.819152, 0, 1, 0, -0.819152, 0, 0.573576, 12.4, 0, -2)
monitorable = false
script = ExtResource("4_ieb84")
next = NodePath("../Waypoint5")
dimensions = Vector3(0.1, 0.5, 2)

[node name="Waypoint5" type="Area3D" parent="Waypoints" node_paths=PackedStringArray("next")]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 13.1, 0, -4.8)
monitorable = false
script = ExtResource("4_ieb84")
next = NodePath("../Waypoint6")
dimensions = Vector3(0.1, 0.5, 2)

[node name="Waypoint6" type="Area3D" parent="Waypoints"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 13.1, 0, -7.6)
monitorable = false
script = ExtResource("4_ieb84")
dimensions = Vector3(0.1, 0.5, 2)

[node name="Racers" type="Node3D" parent="."]

[node name="Pet" parent="Racers" instance=ExtResource("2_cbkiy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.475, 0)
floor_max_angle = 0.349066
safe_margin = 0.01
stats = SubResource("Resource_n17vd")

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="Racers/Pet"]
remote_path = NodePath("../../../CameraOffset")
update_rotation = false
update_scale = false

[node name="CameraOffset" type="Node3D" parent="."]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 0, 0.475, 0)

[node name="FollowCamera" type="Camera3D" parent="CameraOffset"]
transform = Transform3D(-4.37114e-08, 0.642788, -0.766044, 0, 0.766044, 0.642788, 1, 2.80971e-08, -3.34849e-08, -1, 2.275, 4.37114e-08)

[node name="OpponentGenerator" type="Node" parent="."]

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(0.573576, 0, 0.819152, 0, 1, 0, -0.819152, 0, 0.573576, 11.581, 0, -2.574)
